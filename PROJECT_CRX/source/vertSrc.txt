#version 330 core
layout (location = 0) in vec3 position; 
layout (location = 1) in vec2 tex_coord; 
layout (location = 2) in vec3 normal; 

out VS_OUT {
    vec3 v_normal;
    vec3 v_frag_coord; 
    vec2 v_tex_coords;
} vs_out;

uniform mat4 M; 
uniform mat4 itM; 
uniform mat4 V; 
uniform mat4 P; 

void main() { 
    vec4 frag_coord = vec4(position, 1.0); 
    gl_Position = P * V * M * frag_coord;
    vs_out.v_normal = vec3(itM * vec4(normal, 0.0));
    vs_out.v_frag_coord = frag_coord.xyz;
    vs_out.v_tex_coords = - tex_coord;
}
